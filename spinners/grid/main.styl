//- module
ballSize = size / 5
gapSize = size / 10
@keyframes lds-grid
  0%, 100%
    opacity: 1 
  50%
    opacity: .5

.lds-grid
  width: size
  height: size
  position: relative

.lds-grid div
  position: absolute
  width: round(ballSize)
  height: round(ballSize)
  border-radius: 50%
  background: color.fg
  animation(lds-grid speed linear infinite)

for index in 0 1 2 3 4 5 6 7 8
  .lds-grid div:nth-child({index + 1})
    top: round(floor(index / 3) * (ballSize + gapSize) + gapSize)
    left: round(floor(index % 3) * (ballSize + gapSize) + gapSize)
    animation-delay(-1 * speed / 3 * (((index % 3) + floor(index / 3)) % 3))
